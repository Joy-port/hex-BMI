{"version":3,"sources":["all.js"],"names":["inputHeight","document","querySelector","inputWeight","verifyInfo","resultBtn","circle","content","list","resetBtn","clearAllBtn","data","JSON","parse","localStorage","getItem","result","addEventListener","BMIcalc","inputVerify","e","value","trim","classList","add","heightVeri","textContent","preventDefault","weightNum","parseInt","heightNum","bmi","bmiNum","toFixed","dateItem","month","Date","getMonth","day","getDate","year","getFullYear","date","weight","height","unshift","name","className","showResult","addToLocalStorage","renderData","clearAll","createH3","createElement","remove","innerHTML","appendChild","str","length","forEach","item","console","log","setItem","stringify","setAttribute","resultBtnTest","colorH3","parentNode","removeChild"],"mappings":"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","file":"all.js","sourcesContent":["const inputHeight = document.querySelector(\"#height-input\");\nconst inputWeight = document.querySelector(\"#weight-input\");\nconst verifyInfo = document.querySelector(\".verify\");\n\nconst resultBtn = document.querySelector(\".see-result button\");\nconst circle = document.querySelector(\"#circle\");\nconst content = document.querySelector(\".header-content\");\n\nconst list = document.querySelector(\".list\");\nconst resetBtn = document.querySelector(\".reset-btn\");\nconst clearAllBtn = document.querySelector(\".clear-all-btn\");\n\n\nlet data = JSON.parse(localStorage.getItem('BMI calculate')) || [] ;\nlet result = {};\n\nresultBtn.addEventListener('click', BMIcalc, false);\n\n\nfunction inputVerify(e){\n  if(inputHeight.value.trim() == \"\" || inputWeight.value.trim() == \"\"){\n    inputHeight.classList.add(\"warning\");\n    heightVeri.textContent = '*此欄位不得為空白';\n    heightVeri.classList.add(\"visible\");\n  };\n\n}\n\n\n\n// 計算BMI 資料 //\n\n\n\n\n\nfunction BMIcalc (e){\n  e.preventDefault();\n  inputVerify(e);\n  \n  const weightNum = parseInt(inputWeight.value);\n  const heightNum = parseInt(inputHeight.value);\n  const bmi = weightNum /(heightNum/100*heightNum/100);\n  let bmiNum = bmi.toFixed(2);\n  let dateItem = {\n    month: new Date().getMonth(),\n    day: new Date().getDate(),\n    year: new Date().getFullYear()\n  };\n  \n  let date = `${dateItem.month + 1}-${dateItem.day\n}-${dateItem.year}`;\n \n  result.weight = weightNum;\n  result.height = heightNum;\n  result.bmi = bmiNum;\n  result.date = date;\n  data.unshift(result);\n  \n  \n  if(bmiNum <= 16 && bmiNum > 0 ){ \n    result.name =\"過輕\";\n    result.className = \"underWeighted\";\n  }else if(bmiNum < 25 && bmiNum > 16 ){\n    result.name =\"理想\";\n    result.className =\"ideal\";\n  }else if(bmiNum < 30 && bmiNum >= 25 ){\n    result.name =\"過重\";\n    result.className = \"overWeighted\";\n  }else if(bmiNum < 35 && bmiNum >= 30 ){ \n    result.name =\"輕度肥胖\";\n    result.className = \"slightlyObese\";\n  }else if(bmiNum < 40 && bmiNum >= 35 ){\n    result.name =\"中度肥胖\";\n   result.className =\"mediumObese\";\n  }else if(bmiNum >= 40 ){\n    result.name =\"重度肥胖\";\n    result.className = \"severeObese\";\n    };\n  \n  showResult();\n  \n  addToLocalStorage(data);\n  renderData(data);\n  \n  //清空input，還原按鈕設定\n  const resetBtn = document.querySelector(\".clear-btn\");\n  resetBtn.addEventListener('click', clearAll, false);\n  \n \n}\n\n//圓形按鈕變換樣式\nfunction showResult(){\n   \n  let createH3 = document.createElement(\"h3\");\n  createH3.textContent = result.name;\n  createH3.classList.add('color');\n \n  circle.classList.remove(\"see-result\");\n  circle.classList.add(\"run-result\");\n\n  if(result.name ===\"過輕\"){\n    circle.classList.add(\"result-underWeighted\");\n    createH3.classList.add('color-underWeighted');\n  }else if(result.name ===\"理想\"){\n    circle.classList.add(\"result-ideal\");\n    createH3.classList.add('color-ideal');\n  }else if(result.name ===\"過重\"){\n    circle.classList.add(\"result-overWeighted\");\n    createH3.classList.add('color-overWeighted');\n  }else if(result.name ===\"輕度肥胖\"){\n    circle.classList.add(\"result-slightlyObese\");\n    createH3.classList.add('color-slightlyObese');\n    \n  }else if(result.name ===\"中度肥胖\"){\n    circle.classList.add(\"result-mediumObese\");\n    createH3.classList.add('color-mediumObese');\n  }else if(result.name ===\"重度肥胖\"){\n    circle.classList.add(\"result-severeObese\");\n    createH3.classList.add('color-severeObese');\n  };\n \n circle.innerHTML = `\n        <p>${result.bmi}</p>\n        <small>BMI</small>\n        <a href=\"#\" class=\"clear-btn\">\n          <i class=\"fas fa-sync-alt\"></i>  \n        </a>`;\n  content.appendChild(createH3);\n\n}\n\n//data 渲染到畫面上\n\nfunction renderData(data){\n  let str = '';\n  if (data.length == 0){\n    let content = `<li class=\"none\">這裡還沒有資料，快來計算你的 BMI 吧！\n</li>`;\n    str += content;\n    list.innerHTML =str;\n  };\n  data.forEach(function(item){\n    let content = `<li class=\"${item.className}\">\n        <h3>${item.name}</h3>\n         <div><small>BMI</small><p data-type=\"bmiNum\">${item.bmi}</p></div>\n          <div><small>weight</small><p data-type=\"weightNum\">${item.weight}kg</p></div>\n          <div><small>height</small><p data-type=\"heightNum\">${item.height}cm</p></div>\n        <small>${item.date}</small>\n        \n      </li>`;\n    str += content;\n  });\n  \n  console.log(str);\n  list.innerHTML = str;\n  \n  \n}\n\n//localStorage\nfunction addToLocalStorage(data){\n  localStorage.setItem('BMI calculate', JSON.stringify(data));\n}\n\n\n//預設渲染畫面\nrenderData(data);\n\n//清除時會同時經監聽移除，改變記憶體位置，導致無法點擊的情況發生，需要重新綁定～\nfunction clearAll(e){\n  e.preventDefault();\n  //清空input\n  if(inputHeight.value.trim() !== \"\" || inputWeight.value.trim() !== \"\"){\n    inputHeight.value =\"\";\n    inputWeight.value =\"\";\n  };\n  \n\n  //還原看結果按鈕\n  circle.setAttribute(\"class\", \"see-result\"); //直接清空全部-> 會監聽不到按鈕\n  circle.innerHTML = `<button>看結果</button>`;\n  \n  const resultBtnTest = document.querySelector(\".see-result button\");\n  resultBtnTest.addEventListener('click', BMIcalc, false);\n  \n  const colorH3 = document.querySelector(\".color\");\n  colorH3.parentNode.removeChild(colorH3);\n  \n}\n\n"]}